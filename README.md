# lib-eshia-scraper
# استخراج نص الكتاب من lib.eshia.ir

أداة خفيفة مخصّصة لاستخراج النص الكامل لأحد الكتب من صفحات القارئ على موقع lib.eshia.ir، وذلك عبر جمع المحتوى النصي من الصفحات وعرضه بصيغة موحّدة قابلة للقراءة أو المعالجة اللاحقة.
## طريقة الاستخدام

```bash
python extract_eshia_book.py [خيارات] <رابط_الصفحة_الأولى>
```

### معاملات التشغيل

- `-o` أو `--output <مسار>` لتحديد ملف الإخراج حيث يُحفظ النص.
- `--max-pages <عدد>` لتقييد عدد الصفحات التي سيتم تنزيلها ثم التوقف.
- `--delay <ثوانٍ>` لوضع تأخير بين كل طلب والأخر عند التصفح.
- `--timeout <ثوانٍ>` لتحديد مهلة الاتصال قبل أن يعتبر الطلب فاشلاً.
- `--retries <عدد>` لتحديد عدد محاولات إعادة المحاولة عند فشل الطلب.
- `--quiet` لإيقاف عرض تقدم العملية وإخراج السجلات على stderr.

يمكنك دمج أيٍّ من هذه الخيارات معًا في نفس الأمر بحسب الحاجة.
## أمثلة

استخراج الكتاب من الصفحة الأولى وحفظه:

```bash
python extract_eshia_book.py https://lib.eshia.ir/15050/1/0
```

تحديد ملف إخراج:

```bash
python extract_eshia_book.py -o result.txt https://lib.eshia.ir/15050/1/0
```

إيقاف العملية بعد 100 صفحة:

```bash
python extract_eshia_book.py --max-pages 100 https://lib.eshia.ir/15050/1/0
```

وضع تأخير ثانية واحدة بين كل طلب:

```bash
python extract_eshia_book.py --delay 1 https://lib.eshia.ir/15050/1/0
```

تحديد مهلة 10 ثوانٍ لكل اتصال وإعادة المحاولة مرتين عند الفشل:

```bash
python extract_eshia_book.py --timeout 10 --retries 2 https://lib.eshia.ir/15050/1/0
```

تعطيل عرض تقدم العملية:

```bash
python extract_eshia_book.py --quiet https://lib.eshia.ir/15050/1/0
```
## المساهمة
يهدف هذا المشروع إلى خدمة المجتمع الشيعي. يمكن المساهمة بعدة طرق:
فتح قضية (Issue) عند مواجهة مشكلة أو لاقتراح تحسينات على الكود.
تقديم طلب سحب (Pull Request) لإضافة ميزات جديدة أو إصلاح أخطاء موجودة.
